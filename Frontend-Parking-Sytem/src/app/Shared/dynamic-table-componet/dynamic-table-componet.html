<!-- Dynamic Table Template -->
<div class="table-container">
  <!-- Search Filter -->
  <input type="text" [(ngModel)]="searchTerm" placeholder="Search..." class="search-input" />

  <!-- Table -->
  <table class="table-auto w-full border-collapse border border-gray-300">
    <thead>
      <tr>
        <th *ngFor="let col of columns" class="p-2 font-semibold border border-gray-300">
          <span (click)="sortData(col.key)" class="cursor-pointer">
            {{ col.label }}
            <span *ngIf="sortColumn === col.label">
              ({{ sortDirection === 'asc' ? '↑' : '↓' }})
            </span>
          </span>
        </th>

        <!-- Conditionally render Actions column if URL is '/parkingstructur' -->
        <th *ngIf="currentUrl.includes('/parkingstructur')" class="p-2 font-semibold border border-gray-300">Actions
        </th>
      </tr>
    </thead>

    <!-- Table Body -->
    <tbody *ngIf="!currentUrl.includes('/parkingstructur')">
      <tr *ngFor="let row of paginatedData" (dblclick)="onRowDoubleClick(row)">
        <td *ngFor="let col of columns" class="p-2 border border-gray-300">
          {{ row[col.key] }}
        </td>
      </tr>
    </tbody>

    <tbody *ngIf="currentUrl.includes('/parkingstructur')">
      <tr *ngFor="let row of paginatedData" (dblclick)="onRowDoubleClick(row)">
        <td *ngFor="let col of columns" class="p-2 border border-gray-300">
          {{ row[col.key] }}
        </td>

        <!-- Actions column only visible when URL contains '/parkingstructur' -->
        <td class="p-2 border border-gray-300">
          <button (click)="onEdit(row)" class="btn-edit">Edit</button>
        </td>
        <td class="p-2 border border-gray-300">
          <button (click)="onDelete(row)" class="btn-edit">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

<div class="pagination mt-4">

  <!-- Prev -->
  <button 
    class="page-button"
    [class.disabled]="currentPage === 1"
    (click)="goToPage(currentPage - 1)"
    [disabled]="currentPage === 1">
    ‹ Prev
  </button>

  <!-- Smart Dynamic Buttons -->
  <button 
    *ngFor="let page of paginationButtons"
    class="page-button"
    [class.active]="page === currentPage"
    (click)="page !== '...' && goToPage(page)"
    [disabled]="page === '...'">

    {{ page }}

  </button>

  <!-- Next -->
  <button 
    class="page-button"
    [class.disabled]="currentPage === totalPages"
    (click)="goToPage(currentPage + 1)"
    [disabled]="currentPage === totalPages">
    Next ›
  </button>

</div>

</div>