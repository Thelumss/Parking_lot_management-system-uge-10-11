<!-- Dynamic Table Template -->
<div class="table-container">
  <!-- Search Filter -->
  <input type="text" [(ngModel)]="searchTerm" placeholder="Search..." class="search-input" />

  <!-- Table -->
  <table class="table-auto w-full border-collapse border border-gray-300">
    <thead>
      <tr>
        <th *ngFor="let col of columns" class="p-2 font-semibold border border-gray-300">
          <span (click)="sortData(col)" class="cursor-pointer">
            {{ col }}
            <span *ngIf="sortColumn === col">
              ({{ sortDirection === 'asc' ? '↑' : '↓' }})
            </span>
          </span>
        </th>

        <!-- Conditionally render Actions column if URL is '/parkingstructur' -->
        <th *ngIf="currentUrl.includes('/parkingstructur')" class="p-2 font-semibold border border-gray-300">Actions</th>
      </tr>
    </thead>

    <!-- Table Body -->
    <tbody *ngIf="!currentUrl.includes('/parkingstructur')">
      <tr *ngFor="let row of paginatedData" (dblclick)="onRowDoubleClick(row)">
        <td *ngFor="let col of columns" class="p-2 border border-gray-300">
          {{ row[col] }}
        </td>
      </tr>
    </tbody>

    <tbody *ngIf="currentUrl.includes('/parkingstructur')">
      <tr *ngFor="let row of paginatedData" (dblclick)="onRowDoubleClick(row)">
        <td *ngFor="let col of columns" class="p-2 border border-gray-300">
          {{ row[col] }}
        </td>
        
        <!-- Actions column only visible when URL contains '/parkingstructur' -->
        <td class="p-2 border border-gray-300">
          <button (click)="onEdit(row)" class="btn-edit">Edit</button>
        </td>
        <td class="p-2 border border-gray-300">
          <button (click)="onDelete(row)" class="btn-edit">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Pagination Controls -->
  <div class="pagination mt-4">
    <button *ngFor="let page of [].constructor(totalPages); let pageIndex = index" (click)="goToPage(pageIndex + 1)"
      [class.active]="currentPage === pageIndex + 1" class="page-button">
      {{ pageIndex + 1 }}
    </button>
  </div>
</div>
